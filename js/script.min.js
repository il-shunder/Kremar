let body=document.querySelector("body"),headerNavSectors=document.querySelectorAll(".header-nav__sector");headerNavSectors.forEach(e=>{document.body.clientWidth>1049?(e.addEventListener("mouseover",()=>{e.classList.contains("active")||e.classList.add("active")}),e.addEventListener("mouseout",t=>{e.classList.contains("active")&&e.classList.remove("active")})):e.addEventListener("click",()=>{e.classList.toggle("active")})});let headerLang=document.querySelector(".header-lang");if(headerLang){let e=headerLang.querySelectorAll(".header-lang__item"),t=document.querySelector(".header-lang__cur");document.body.clientWidth>1049?(headerLang.addEventListener("mouseover",()=>{headerLang.classList.contains("active")||headerLang.classList.add("active")}),headerLang.addEventListener("mouseout",e=>{headerLang.classList.contains("active")&&headerLang.classList.remove("active")}),e.forEach(e=>{e.addEventListener("click",()=>{let a=e.textContent.trim();t.querySelector("span").textContent=a,headerLang.classList.remove("active")})})):headerLang.addEventListener("click",e=>{if(headerLang.classList.toggle("active"),e.target.closest(".header-lang__item")){let a=e.target.closest(".header-lang__item").textContent.trim();t.querySelector("span").textContent=a}})}let headerMain=document.querySelector(".header-main"),headerTop=document.querySelector(".header-top"),header=document.querySelector(".header");window.addEventListener("scroll",()=>{if(window.scrollY>headerTop.clientHeight){let e=headerTop.clientHeight+headerMain.clientHeight+"px";header.style.height=e,headerMain.classList.add("fixed")}else window.scrollY<=headerTop.clientHeight&&headerMain.classList.remove("fixed")});let headerCart=document.querySelector(".header-cart"),headerCartTimeout=500;if(headerCart){document.querySelector(".header-cart__name").addEventListener("click",()=>{let e=window.innerWidth-body.offsetWidth+"px";body.style.paddingRight=e,headerMain.classList.contains("fixed")&&(headerMain.style.paddingRight=e),headerCart.querySelector(".header-cart__main").classList.add("active"),document.body.classList.add("body-lock")}),document.querySelector(".header-cart__close").addEventListener("click",()=>{headerCart.querySelector(".header-cart__main").classList.remove("active"),setTimeout(()=>{document.body.classList.remove("body-lock"),body.style.paddingRight=0,headerMain.classList.contains("fixed")&&(headerMain.style.paddingRight=0)},headerCartTimeout)})}document.body.addEventListener("click",e=>{headerCart.querySelector(".header-cart__main").classList.contains("active")&&!e.target.closest(".header-cart-name")&&(e.target.closest(".header-cart__content")||(headerCart.querySelector(".header-cart__main").classList.remove("active"),setTimeout(()=>{document.body.classList.remove("body-lock"),body.style.paddingRight=0,headerMain.classList.contains("fixed")&&(headerMain.style.paddingRight=0)},headerCartTimeout)))});let headerBurger=document.querySelector(".header__burger"),headerNav=document.querySelector(".header-nav");headerBurger&&headerBurger.addEventListener("click",()=>{headerBurger.classList.toggle("active"),headerNav.closest(".header-main__menu").classList.toggle("active"),document.body.classList.toggle("body-lock")}),new Swiper(".products-slider",{slidesPerView:4,watchOverflow:!0,spaceBetween:25,loop:!0,navigation:{nextEl:".products__next",prevEl:".products__prev"},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!1,pageUpDown:!0},breakpoints:{320:{slidesPerView:1},500:{slidesPerView:2,spaceBetween:5},768:{slidesPerView:3,spaceBetween:25},1200:{slidesPerView:4}}});const animItems=document.querySelectorAll(".anim-item");if(animItems.length>0){function animOnScroll(){for(let e=0;e<animItems.length;e++){const t=animItems[e],a=t.offsetHeight,n=offset(t).top,o=4;let i=window.innerHeight-a/o;a>window.innerHeight&&(i=window.innerHeight-window.innerHeight/o),pageYOffset>n-i&&pageYOffset<n+a?t.classList.add("anim"):t.classList.contains("anim-no-repeat")||t.classList.remove("anim")}}function offset(e){const t=e.getBoundingClientRect(),a=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+a}}window.addEventListener("scroll",animOnScroll),setTimeout(()=>{animOnScroll()},300)}new Swiper(".facts__slider",{slidesPerView:2.6,watchOverflow:!0,spaceBetween:25,loop:!0,navigation:{nextEl:".facts__next",prevEl:".facts__prev"},pagination:{el:".facts__pagination",type:"bullets",clickable:!0,dynamicBullets:!0,dynamicMainBullets:10},keyboard:{enabled:!0,onlyInViewport:!1,pageUpDown:!0},breakpoints:{320:{slidesPerView:1,pagination:{dynamicMainBullets:6}},500:{slidesPerView:1.3,spaceBetween:5,pagination:{dynamicMainBullets:10}},768:{slidesPerView:2.3,spaceBetween:5},1200:{slidesPerView:2.6,spaceBetween:25}}});let parallaxItems=document.querySelectorAll(".parallax");if(parallaxItems.length>0)for(let e=0;e<parallaxItems.length;e++)parallaxItems[e].parentElement.addEventListener("mousemove",(function(t){let a=t.clientX/window.innerWidth,n=t.clientY/window.innerHeight;parallaxItems[e].style.transform="translate(-"+30*a+"px, -"+30*n+"px)"}));const popupLinks=document.querySelectorAll(".popup-link"),pageBody=document.querySelector("body"),lockPadding=document.querySelectorAll(".lock-padding");let unlock=!0;const timeout=600;if(popupLinks.length>0)for(let e=0;e<popupLinks.length;e++){const t=popupLinks[e];t.addEventListener("click",e=>{const a=t.getAttribute("data-href");popupOpen(document.getElementById(a),t.querySelector("img").getAttribute("src")),e.preventDefault()})}const popupCloseIcon=document.querySelectorAll(".popup__close");if(popupCloseIcon.length>0)for(let e=0;e<popupCloseIcon.length;e++){const t=popupCloseIcon[e];t.addEventListener("click",e=>{popupClose(t.closest(".popup")),e.preventDefault()})}function popupOpen(e,t){if(e&&unlock){const a=document.querySelector(".popup._open");a?popupClose(a,!1):bodyLock(),e.classList.add("_open"),t&&e.querySelector(".popup__block").insertAdjacentHTML("afterbegin",`<img src="${t}" alt="">`),e.addEventListener("click",e=>{e.target.closest(".popup__content")||popupClose(e.target.closest(".popup"))})}}function popupClose(e,t=!0){unlock&&(e.classList.remove("_open"),t&&bodyUnlock(),"gallery-popup"==e.getAttribute("id")&&setTimeout(()=>{for(let t=0;t<e.querySelector(".popup__block").children.length;t++)e.querySelector(".popup__block").children[t].remove()},600))}function bodyLock(){const e=window.innerWidth-pageBody.offsetWidth+"px";if(lockPadding.length>0)for(let t=0;t<lockPadding.length;t++){lockPadding[t].style.paddingRight=e}pageBody.style.paddingRight=e,pageBody.classList.add("body-lock"),unlock=!1,setTimeout(()=>{unlock=!0},600)}function bodyUnlock(){setTimeout(()=>{if(lockPadding.length>0)for(let e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight="0px"}pageBody.style.paddingRight="0px",pageBody.classList.remove("body-lock")},600),unlock=!1,setTimeout(()=>{unlock=!0},600)}Element.prototype.closest||(Element.prototype.closest=function(e){let t=this;for(;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);let categoriesItems=document.querySelectorAll(".categories__item");categoriesItems.length>0&&categoriesItems.forEach(e=>{e.addEventListener("click",()=>{categoriesItems.forEach(e=>{e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active")})});let paginationItems=document.querySelectorAll(".pagination__item");paginationItems.length>0&&paginationItems.forEach(e=>{e.addEventListener("click",()=>{e.classList.contains("pagination__dots")||(paginationItems.forEach(e=>{e.classList.contains("active")&&e.classList.remove("active")}),e.classList.add("active"))})});